backup
======

I use an HP DAT 72 tape drive over USB for my local backups.  These scripts
do full and incremental backups for me.  Improvements welcome.  These are
really just adjusted as I hit issues.

Requirements
============

    Linux kernel with SCSI tape support
    mt-st version 1.1 or higher
    GNU tar (with 'new' style listed incremental backup support)

Installation
============

Just copy the files to an appropriate place:

    backup -> /usr/local/sbin/backup
    backup.conf -> /etc/backup/backup.conf
    stinit.def -> /etc/stinit.def (or add to existing stinit.def)
    sample-set.conf -> /etc/backup/sets/YOURSET.conf

YOURSET.conf needs to be your specific backup configuration.  Maybe you
want to call it 'home' or 'personal' or 'work'.  You can define many sets,
but the script only works with one at a time.  The set name is the filename
minus the '.conf' ending.

The 'new-volume' script is written out by 'backup' and goes to $TARDB.  It
is here for reference purposes only.  The new-volume script is invoked by
tar for multi volume backup sets.

The YOURSET.conf file is somewhat self-expanatory.  The min and max full
volume values just indicate how many full backup tape sets you have in
rotation.  It does not strictly correspond to a single tape.  The backup
script is set up to span multiple tapes as necessary, but when I first
started my backups could fit on a single tape.

The /etc/backup/backup.conf file is intended for common settings, like the
tape device and main db directory.  These can technically be overridden in
the set configuration files.  The tape device can also be specified on the
command line.

The stinit.def file is required for stinit(8), which is part of mt-st.  The
mt-st software comes with an example stinit.def file that may work for you.
The file in this directory works for my tape drive.  Make sure you have an
stinit.def file for your tape drive.  The backup script runs stinit to ensure
the tape drive is initialized correctly.

Usage
=====

Set 'backup --help'

-- 
David Cantrell <david.l.cantrell@gmail.com>
